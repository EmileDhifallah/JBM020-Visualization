#:kivy 1.10.0
#:import FadeTransition kivy.uix.screenmanager.FadeTransition

ScreenManagement:
	id: screen_manager
	transition: FadeTransition()
	# HomeScreen:
	# 	name: "home"
	# 	id: home
	# 	manager: screen_manager
	MainScreen:
		name: "main"
	    id: main
		manager: screen_manager
	DetailViewScreen:
		name: "detail"
	    id: detail
		manager: screen_manager

		# GET VARIABLE FROM MAIN FRAME
		plot_img: main.plot_img

# <HomeScreen>:
# 	Image:
# 		source: "templates/invert_rainbow_gradient.png"
# 		size: root.width, root.height

<MainScreen>:
    FloatLayout:
        # ~~~~~~~~ BASIC SHAPES OF THE GUI ~~~~~~~~ #
        canvas.before:
            Color:
                rgba: 0.95,0.95,0.95,1
            Rectangle:
                pos: 0,0
                size: root.width,root.height

			Color:
                rgba: 0.97,0.97,0.97,1
            Rectangle:
                pos: 0,0
                size: root.width-250,root.height-80

            # OPTIONS BAR BACKGROUND
            Color:
                rgba: 0.93,0.93,0.93,0.8
            Rectangle:
                pos: 0,0
                size: 300,root.height-40
                source: "templates/rainbow_gradient.png"
            Rectangle:
                pos: 0,0
                size: 300,root.height - 40

            # TIME SHIFT BAR BACKGROUND
            Color:
                rgba: 0.9,0.9,0.9,1
            Rectangle:
                pos: 301,0
                size: root.width-550,40

            # BORDER LINE OF OPTIONS-BAR
            Color:
                rgba: 0.7,0.7,0.7,1
            Line:
                points: 300,0,300,root.height-40
                width: 1

            # BORDER LINE OF INFORMATION-BAR
            Color:
                rgba: 0.7,0.7,0.7,1
            Line:
                points: root.width-250,0,root.width-250,root.height-40
                width: 1

            # BORDER LINE OF TIME-SHIFT-BAR
            Color:
                rgba: 0.7,0.7,0.7,1
            Line:
                points: 301,41,root.width-250,41
                width: 1

            # TAB BAR BACKGROUND
            Color:
                rgba: 0.9,0.9,0.9,0.5
            Rectangle:
                pos: 0,root.height-40
                size: root.width,40
                source: "templates/gray_gradient.png"
            Rectangle:
                pos: 0,root.height-40
                size: root.width,40

            # BORDER LINE OF PLOT-BAR
            Color:
                rgba: 0.7,0.7,0.7,1
            Line:
                points: 0,root.height-81,root.width,root.height-81
                width: 1

            # BORDER LINE OF SHIFT SELECTION BUTTON
            Color:
                rgba: 0.7,0.7,0.7,1
            Rectangle:
                # SIZE INFORMATION
                pos: 99.5, root.height-830.5
                size: 161,21

			# BORDER LINE OF NUMBER OF PICTURES TEXT INPUT
            Color:
                rgba: 0.7,0.7,0.7,1
            Rectangle:
                # SIZE INFORMATION
                pos: 99.5, root.height-860.5
                size: 41,21

			# BORDER LINE OF INTERVAL TEXT INPUT
            Color:
                rgba: 0.7,0.7,0.7,1
            Rectangle:
                # SIZE INFORMATION
                pos: 99.5, root.height-890.5
                size: 41,21

            # BORDER LINE OF GRAPH TYPE BUTTON
            Color:
                rgba: 0.7,0.7,0.7,1
            Rectangle:
                # SIZE INFORMATION
                pos: 99.5, root.height-240.5
                size: 161,21

			# BORDER LINE OF COLOR SCHEME BUTTON
            Color:
                rgba: 0.7,0.7,0.7,1
            Rectangle:
                # SIZE INFORMATION
                pos: 99.5, root.height-280.5
                size: 161,26

			# BORDER LINE OF OLD COLUMN BUTTON
			Color:
                rgba: 0.7,0.7,0.7,1
			Rectangle:
				pos: root.width-150.5, root.height-140.5
	            size: 111,21

			# BORDER LINE OF FILTER BUTTON
			Color:
                rgba: 0.7,0.7,0.7,1
			Rectangle:
				pos: root.width-150.5, root.height-170.5
	            size: 111,21

			# BORDER TO SELECT COLUMN TO FILTER BUTTON
			Color:
                rgba: 0.7,0.7,0.7,1
			Rectangle:
				pos: root.width-150.5, root.height-350.5
	            size: 111,21

			# BORDER OF SELECT FILTER BUTTON
			Color:
                rgba: 0.7,0.7,0.7,1
			Rectangle:
				pos: root.width-150.5, root.height-380.5
	            size: 111,21

            # BORDER LINE OF SHIFT OPTIONS
            Color:
                rgba: 0.7,0.7,0.7,1
            Line:
                points: 0,root.height-775, 300,root.height-775
                width: 1

			# BORDER LINE OF TRANSFORMATIONS
            Color:
                rgba: 0.7,0.7,0.7,1
            Line:
                points: root.width-237.5,root.height-290, root.width-12.5,root.height-290
                width: 1

			# BORDER LINE OF TRANSFORMATIONS
            Color:
                rgba: 0.7,0.7,0.7,1
            Line:
                points: root.width-237.5,root.height-470, root.width-12.5,root.height-470
                width: 1

            # BORDER LINE OF GRAPH OPTIONS
            Color:
                rgba: 0.7,0.7,0.7,1
            Line:
                points: 0,root.height-185, 300,root.height-185
                width: 1

			# UNDERSCORE FOR NEW COLUMN NAME
			Color:
				rgba: 0.5,0.5,1,1
			Line:
				points: root.width-145, root.height-200, root.width-45, root.height-200
            	width: 1

        ImageButton:
            id: plot
            source: root.plot_img
            size: root.width-668,root.height-298
            size_hint: None,None
            pos: 361, 151


        # GRAPH OPTIONS TEXT
        Label:
            # BASE INFORMATION
            id: general_information
            text: "[b]General Information[/b]"
            markup: True

            # SIZE INFORMATION
            pos: -root.width/2+56,root.height/2-101
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

		# COLUMN OPTIONS TEXT
        Label:
            # BASE INFORMATION
            id: column_options
            text: "[b]Transformations[/b]"
            markup: True

            # SIZE INFORMATION
            pos: root.width/2-195,root.height/2-101
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

		# DATA FILTERS TEXT
        Label:
            # BASE INFORMATION
            id: add_column
            text: "[b]Filters[/b]"
            markup: True

            # SIZE INFORMATION
            pos: root.width/2-220,root.height/2-310
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

        # GRAPH OPTIONS TEXT
        Label:
            # BASE INFORMATION
            id: graph_options
            text: "[b]Graph Options[/b]"
            markup: True

            # SIZE INFORMATION
            pos: -root.width/2+42,root.height/2-201
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

        # SHIFT OPTIONS TEXT
        Label:
            # BASE INFORMATION
            id: shift_options
            text: "[b]Shift Options[/b]"
            markup: True

            # SIZE INFORMATION
            pos: -root.width/2+41,root.height/2-790
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

        # SHIFT OVER TEXT
        Label:
            # BASE INFORMATION
            id: shift_over
            text: "Shift over"

            # SIZE INFORMATION
            pos: -root.width/2+60,root.height/2-818
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

		# TYPE TEXT
        Label:
            # BASE INFORMATION
            id: shift_over
            text: "Type"

            # SIZE INFORMATION
            pos: -root.width/2+71,root.height/2-228
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

		# COLOR SCHEME TEXT
        Label:
            # BASE INFORMATION
            id: color_scheme
            text: "Scheme"

            # SIZE INFORMATION
            pos: -root.width/2+62,root.height/2-268
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

		# STEPS TEXT
        Label:
            # BASE INFORMATION
            id: steps
            text: "Steps"

            # SIZE INFORMATION
            pos: -root.width/2+68,root.height/2-848
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

		# INTERVAL TEXT
        Label:
            # BASE INFORMATION
            id: interval
            text: "Interval"

            # SIZE INFORMATION
            pos: -root.width/2+63,root.height/2-878
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

        # DATASET TEXT
        Label:
            # BASE INFORMATION
            id: dataset
            text: "Dataset"

            # SIZE INFORMATION
            pos: -root.width/2+66,root.height/2-125
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

		# DATASET NAME TEXT
        Label:
            # BASE INFORMATION
            id: dataset_name
            text: root.data_name
			markup: True

            # SIZE INFORMATION
            pos: -root.width/2+116,root.height/2-125
            font_size: 12
			halign: "right"

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

		# FULL PATH TEXT
        Label:
            # BASE INFORMATION
            id: dataset_path
            text: root.data_path
			markup: True

            # SIZE INFORMATION
            pos: -root.width/2+116,root.height/2-145
            font_size: 12

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

        # FULL PATH TEXT
        Label:
            # BASE INFORMATION
            id: full_path
            text: "Full Path"

            # SIZE INFORMATION
            pos: -root.width/2+64,root.height/2-145
            font_size: 11.5

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1

        # PLAY PAUSE BUTTON
        ImageButton:
            id: play
            source:'templates/play_button.png'
            size_hint: None, None
            size: 50,70
            pos: 120,-15
            on_press:
                root._play()

        # PLAY PAUSE BUTTON
        ImageButton:
            id: termination
            source:'templates/termination_button.png'
            size_hint: None, None
            size: 50,70
            pos: 180,-16

        # HEATMAP BUTTON
        ImageButton:
            id: heatmap
            source:'templates/heatmap.png'
            size_hint: None, None
            size: 20,20
            pos: 320,root.height-71

        # NODE LINK BUTTON
        ImageButton:
            id: nodelink
            source:'templates/node_link.png'
            size_hint: None, None
            size: 20,20
            pos: 360,root.height-71

		# LENS BUTTON
        ImageButton:
            id: lens
            source:'templates/lens.png'
            size_hint: None, None
            size: 40,40
            pos: root.width-310,root.height-80
			on_release:
                app.root.current = "detail"

		# LENS BUTTON
        Button:
			# BASE INFORMATION
            id: lens
			text: "[b]Graphs[/b]"
			markup: True

			# SIZE INFORMATION
            size_hint: None, None
            size: 75,25
            pos: root.width/2,root.height-32.5
			font_size: 11
			padding_x: 10

			color: 0.95,0.95,0.95,1
			background_normal:"templates/window_option_blue_right.png"
			on_release:
                app.root.current = "detail"

		# LENS BUTTON
        Button:
			# BASE INFORMATION
            id: lens
			text: "[b]Home[/b]"
			markup: True

			# SIZE INFORMATION
            size_hint: None, None
            size: 75,25
            pos: root.width/2-75,root.height-32.5
			font_size: 11
			padding_x: 10

			color: 0.1,0.1,0.1,1
			background_normal:"templates/window_option_gray_left.png"
			on_release:
                app.root.current = "detail"

		# LOAD FILE BUTTON
        Button:
			# BASE INFORMATION
            id: load_file
			text: "+"

			# SIZE INFORMATION
            size_hint: None, None
            size: 40,40
            pos: 20,root.height-80
			font_size: 25

			# COLOR INFORMATION
            color: 0.3,0.3,0.3,1
            background_normal: ''
            background_color: 0,0,0,0
            background_down: ""

			on_release:
				root._load_data()

        # SHIFT SELECTION BUTTON
        Button:
            # BASE INFORMATION
            id: shift_column
            text: "Select Column"

            # SIZE INFORMATION
            pos: 100, root.height-830
            size: 160,20
            size_hint: None, None
            font_size: 12
            halign: "left"
            valign: "center"
            padding_x: 5
            text_size: self.size

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0.97,0.97,0.97,1
            background_down: ""

		# OLD COLUMN SELECTION BUTTON
        Button:
            # BASE INFORMATION
            id: old_column
            text: "Select Column"

            # SIZE INFORMATION
            pos: root.width-150, root.height-140
            size: 110,20
            size_hint: None, None
            font_size: 12
            halign: "left"
            valign: "center"
            padding_x: 5
            text_size: self.size

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0.97,0.97,0.97,1
            background_down: ""

		# OLD COLUMN SELECTION BUTTON II
        Button:
            # BASE INFORMATION
            id: old_column_II
            text: "Select Column"

            # SIZE INFORMATION
            pos: root.width-150, root.height-350
            size: 110,20
            size_hint: None, None
            font_size: 12
            halign: "left"
            valign: "center"
            padding_x: 5
            text_size: self.size

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0.97,0.97,0.97,1
            background_down: ""

		# SELECT FILTER BUTTON
        Button:
            # BASE INFORMATION
            id: filter
            text: "Select Filter"

            # SIZE INFORMATION
            pos: root.width-150, root.height-380
            size: 110,20
            size_hint: None, None
            font_size: 12
            halign: "left"
            valign: "center"
            padding_x: 5
            text_size: self.size

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0.97,0.97,0.97,1
            background_down: ""

		# TRANSFORMATION BUTTON
        Button:
            # BASE INFORMATION
            id: transformation
            text: "Select Filter"

            # SIZE INFORMATION
            pos: root.width-150, root.height-170
            size: 110,20
            size_hint: None, None
            font_size: 12
            halign: "left"
            valign: "center"
            padding_x: 5
            text_size: self.size

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0.97,0.97,0.97,1
            background_down: ""

		# NAME OF NEW COLUMN TEXT INPUT
        TextInput:
            # BASE INFORMATION
            id: new_filter
            text: "New_Column"

            # SIZE INFORMATION
            pos: root.width-150, root.height-200
            size: 110,20
            size_hint: None, None
            font_size: 12
			padding_y: -0.5

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0,0,0,0
            background_down: ""

		# PLOT TITLE TEXT INPUT
		TextInput:
			# BASE INFORMATION
			id: plot_title
			text: root.title

			# SIZE INFORMATION
            pos: root.width/2-50, root.height-145
            size: 400,60
            size_hint: None, None
			font_size: 40

			# COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0,0,0,0
            background_down: ""

		# NUMBER OF PICTURES TEXT INPUT
		TextInput:
			# BASE INFORMATION
			id: number_of_pictures

			# SIZE INFORMATION
            pos: 100, root.height-860
            size: 40,20
            size_hint: None, None
			font_size: 12

			# COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0.97,0.97,0.97,1
            background_down: ""

		# INTERVAL TEXT INPUT
		TextInput:
			# BASE INFORMATION
			id: interval

			# SIZE INFORMATION
            pos: 100, root.height-890
            size: 40,20
            size_hint: None, None
			font_size: 12

			# COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0.97,0.97,0.97,1
            background_down: ""


        # GRAPH TYPE BUTTON
        Button:
            # BASE INFORMATION
            id: graph_type
            text: "Select Graph Type"

            # SIZE INFORMATION
            pos: 100, root.height-240
            size: 160,20
            size_hint: None, None
            font_size: 12
            halign: "left"
            valign: "center"
            padding_x: 5
            text_size: self.size

            # COLOR INFORMATION
            color: 0.1,0.1,0.1,1
            background_normal: ''
            background_color: 0.97,0.97,0.97,1
            background_down: ""

		# COLOR SCHEME BUTTON
        Button:
            # BASE INFORMATION
            id: color_scheme

            # SIZE INFORMATION
            pos: 100, root.height-280
            size: 160,25
            size_hint: None, None

            # COLOR INFORMATION
            background_normal: 'templates/jet_scheme.png'

		# # SIZE INFORMATION
		# size_hint: None, None
		# size: 75,25
		# pos: root.width/2-75,root.height-32.5
		# font_size: 11
		# padding_x: 10
		#
		# color: 0.1,0.1,0.1,1
		# background_normal:"templates/window_option_gray_left.png"
		# on_release:
		# 	app.root.current = "detail"

        # PLOT ALL BUTTON
        Button:
            # BASE INFORMATION
            id: plot_all
            text: "[b]PLOT ALL[/b]"
            markup: True

            # SIZE INFORMATION
            pos: 70, root.height-950
            size: 160,25
            size_hint: None, None
            font_size: 12

            # COLOR INFORMATION
            color: 0.95,0.95,0.95,1
            background_normal: ''
            background_color: 0.5,0.5,1,1
            background_down: ""

        # PLOT BUTTON
        Button:
            # BASE INFORMATION
            id: plot
            text: "[b]PLOT[/b]"
            markup: True

            # SIZE INFORMATION
            pos: 70, root.height-740
            size: 160,25
            size_hint: None, None
            font_size: 12

            # COLOR INFORMATION
            color: 0.95,0.95,0.95,1
            background_normal: ''
            background_color: 0.5,0.5,1,1
            background_down: ""

            on_press:
                root._draw_plot()

		# SHOW DATA BUTTON
        Button:
            # BASE INFORMATION
            id: show_data
            text: "[b]SHOW DATA[/b]"
            markup: True

            # SIZE INFORMATION
            pos: root.width-200, root.height-950
            size: 160,25
            size_hint: None, None
            font_size: 12

            # COLOR INFORMATION
            color: 0.2,0.2,0.2,1
            background_normal: ''
            background_color: 0.9,0.9,0.9,1
            background_down: ""

		# APPLY FILTER BUTTON
        Button:
            # BASE INFORMATION
            id: plot_all
            text: "[b]APPLY FILTER[/b]"
            markup: True

            # SIZE INFORMATION
            pos: root.width-200, root.height-440
            size: 160,25
            size_hint: None, None
            font_size: 12

            # COLOR INFORMATION
            color: 0.2,0.2,0.2,1
            background_normal: ''
            background_color: 0.9,0.9,0.9,1
            background_down: ""

		# ADD COLUMN BUTTON
        Button:
            # BASE INFORMATION
            id: plot_all
            text: "[b]ADD COLUMN[/b]"
            markup: True

            # SIZE INFORMATION
            pos: root.width-200, root.height-260
            size: 160,25
            size_hint: None, None
            font_size: 12

            # COLOR INFORMATION
            color: 0.2,0.2,0.2,1
            background_normal: ''
            background_color: 0.9,0.9,0.9,1
            background_down: ""

        # # TIME SHIFT SLIDER
        # Slider:
        #     pos: 325,-27.5
        #     size_hint: None, None
        #     width: root.width - 600
		#
        # # INTERVAL SLIDER
        # Slider:
        #     pos: 85,root.height-940
        #     size_hint: None, None
        #     width: 190
		#
        # # STEP NUMBER SLIDER
        # Slider:
        #     pos: 85,root.height-920
        #     size_hint: None, None
        #     width: 190

<DetailViewScreen>:
    canvas.before:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: 0,0
            size: root.width, root.height
    ImageButton:
        source: root.plot_img
    	on_release: app.root.current = "main"
        size_hint: None, None
        size: root.width,root.height
